OpMenu is a python based script for basic system administration.

It follows the Gomenu script guidelines (http://fossies.org/unix/privat/old/gomenu-0.8.1.tar.gz/index_af.html). 
OpMenu uses .mnu files to build a screen menu that allow to low levels sysadmins and system operators do basic 
and preconfigured actions (f.e. restart a webserver, check the status of a daemon, etc...)

You can find some basic .mnu examples files in the repository. 
All menu options have to begin with $MENU key and all the actions have to contain .sh or sudo string. 
A lot of Gomenu .mnu must be compatibles.

=====================

Requirements:

* Python 2.X
* main.mnu file
* python-distutils-extra for Internationalize Language

=====================

TODO

* Error control
* Improve Look&Feel

=====================

LANGUAGE SETUP

Execute script setup_lang.sh to compile languages in your system.

------------------------------
#!/bin/bash

msgfmt po/es_ES.po --output-file /usr/share/locale/es/LC_MESSAGES/opmenu.mo
msgfmt po/gl_ES.po --output-file /usr/share/locale/gl/LC_MESSAGES/opmenu.mo
msgfmt po/ca_ES.po --output-file /usr/share/locale/ca/LC_MESSAGES/opmenu.mo

exit
------------------------------

If you want to add a new translation in the "po" directory exists opmenu.pot file, 
this file can be generated again if new texts are added or changed in the scrypt with the command:

# xgettext --language=Python --keyword=_ --output=po/opmenu.pot --from-code=UTF-8 `find . -name "*.py"`

Once the new file generated can easily add languages ​​with Poedit utility. (http://www.poedit.net/)
Save the generated files to the new language in the "po" directory and run the command as shown changing necessary for the new language.

# msgfmt po/ca_ES.po --output-file /usr/share/locale/ca/LC_MESSAGES/opmenu.mo

=====================

INSTALL NOTES.

Add oper group to sudoers for nonpassword required if user operator is not root.

%oper ALL=(ALL:ALL) NOPASSWD:ALL

For automatic start of the program you must add the next lines in the .bash_profile of the user:

exec  ./opmenu.py

=====================

Known issues.

Log file in /var/log with unprivileged user can not be created ([Errno 13] Permission denied). Create it as root and change owner.

Ex.
touch /var/log/opmenu.log
chown oper:oper /var/log/opmenu.log


=====================

Comments and request are welcome.

Regards!

D. Acacio
29-09-13
